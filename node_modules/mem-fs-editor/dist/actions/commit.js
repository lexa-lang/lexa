import { isFileTransform } from 'mem-fs';
import { createCommitTransform } from '../transform.js';
import { isFilePending } from '../state.js';
async function commit(options, ...transforms) {
    if (isFileTransform(options)) {
        transforms = [options, ...transforms];
        options = undefined;
    }
    await this.store.pipeline({ filter: isFilePending, ...options }, ...transforms, createCommitTransform());
}
export default commit;
