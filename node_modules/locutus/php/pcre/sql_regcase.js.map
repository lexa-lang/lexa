{"version":3,"sources":["../../../src/php/pcre/sql_regcase.js"],"names":["module","exports","sql_regcase","str","setlocale","require","i","upper","lower","pos","retStr","$global","window","global","$locutus","php","locales","localeCategories","LC_CTYPE","length","indexOf","charAt"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AACzC;AACA;AACA;AACA;;AAEA,MAAMC,YAAYC,QAAQ,sBAAR,CAAlB;AACA,MAAIC,IAAI,CAAR;AACA,MAAIC,QAAQ,EAAZ;AACA,MAAIC,QAAQ,EAAZ;AACA,MAAIC,MAAM,CAAV;AACA,MAAIC,SAAS,EAAb;;AAEAN,YAAU,QAAV,EAAoB,CAApB;;AAEA,MAAMO,UAAU,OAAOC,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyCC,MAAzD;AACAF,UAAQG,QAAR,GAAmBH,QAAQG,QAAR,IAAoB,EAAvC;AACA,MAAMA,WAAWH,QAAQG,QAAzB;AACAA,WAASC,GAAT,GAAeD,SAASC,GAAT,IAAgB,EAA/B;;AAEAR,UAAQO,SAASC,GAAT,CAAaC,OAAb,CAAqBF,SAASC,GAAT,CAAaE,gBAAb,CAA8BC,QAAnD,EAA6DA,QAA7D,CAAsEX,KAA9E;AACAC,UAAQM,SAASC,GAAT,CAAaC,OAAb,CAAqBF,SAASC,GAAT,CAAaE,gBAAb,CAA8BC,QAAnD,EAA6DA,QAA7D,CAAsEV,KAA9E;;AAEA;AACA,OAAKF,IAAI,CAAT,EAAYA,IAAIH,IAAIgB,MAApB,EAA4Bb,GAA5B,EAAiC;AAC/B,QAAI,CAACG,MAAMF,MAAMa,OAAN,CAAcjB,IAAIkB,MAAJ,CAAWf,CAAX,CAAd,CAAP,MAAyC,CAAC,CAA1C,IAA+C,CAACG,MAAMD,MAAMY,OAAN,CAAcjB,IAAIkB,MAAJ,CAAWf,CAAX,CAAd,CAAP,MAAyC,CAAC,CAA7F,EAAgG;AAC9FI,gBAAU,MAAMH,MAAMc,MAAN,CAAaZ,GAAb,CAAN,GAA0BD,MAAMa,MAAN,CAAaZ,GAAb,CAA1B,GAA8C,GAAxD;AACD,KAFD,MAEO;AACLC,gBAAUP,IAAIkB,MAAJ,CAAWf,CAAX,CAAV;AACD;AACF;;AAED,SAAOI,MAAP;AACD,CAjCD","file":"sql_regcase.js","sourcesContent":["module.exports = function sql_regcase(str) {\n  //  discuss at: https://locutus.io/php/sql_regcase/\n  // original by: Brett Zamir (https://brett-zamir.me)\n  //   example 1: sql_regcase('Foo - bar.')\n  //   returns 1: '[Ff][Oo][Oo] - [Bb][Aa][Rr].'\n\n  const setlocale = require('../strings/setlocale')\n  let i = 0\n  let upper = ''\n  let lower = ''\n  let pos = 0\n  let retStr = ''\n\n  setlocale('LC_ALL', 0)\n\n  const $global = typeof window !== 'undefined' ? window : global\n  $global.$locutus = $global.$locutus || {}\n  const $locutus = $global.$locutus\n  $locutus.php = $locutus.php || {}\n\n  upper = $locutus.php.locales[$locutus.php.localeCategories.LC_CTYPE].LC_CTYPE.upper\n  lower = $locutus.php.locales[$locutus.php.localeCategories.LC_CTYPE].LC_CTYPE.lower\n\n  // @todo: Make this more readable\n  for (i = 0; i < str.length; i++) {\n    if ((pos = upper.indexOf(str.charAt(i))) !== -1 || (pos = lower.indexOf(str.charAt(i))) !== -1) {\n      retStr += '[' + upper.charAt(pos) + lower.charAt(pos) + ']'\n    } else {\n      retStr += str.charAt(i)\n    }\n  }\n\n  return retStr\n}\n"]}