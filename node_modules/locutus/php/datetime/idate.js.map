{"version":3,"sources":["../../../src/php/datetime/idate.js"],"names":["module","exports","idate","format","timestamp","undefined","Error","length","_date","Date","a","Math","floor","getUTCHours","getUTCMinutes","getUTCSeconds","getDate","getHours","getMinutes","getFullYear","UTC","getMonth","getSeconds","round","getTime","getDay","parseInt","slice","getTimezoneOffset"],"mappings":"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","file":"idate.js","sourcesContent":["module.exports = function idate(format, timestamp) {\n  //  discuss at: https://locutus.io/php/idate/\n  // original by: Brett Zamir (https://brett-zamir.me)\n  // original by: date\n  // original by: gettimeofday\n  //    input by: Alex\n  // bugfixed by: Brett Zamir (https://brett-zamir.me)\n  // improved by: Theriault (https://github.com/Theriault)\n  //   example 1: idate('y', 1255633200)\n  //   returns 1: 9\n\n  if (format === undefined) {\n    throw new Error('idate() expects at least 1 parameter, 0 given')\n  }\n  if (!format.length || format.length > 1) {\n    throw new Error('idate format is one char')\n  }\n\n  // @todo: Need to allow date_default_timezone_set() (check for $locutus.default_timezone and use)\n  const _date =\n    typeof timestamp === 'undefined'\n      ? new Date()\n      : timestamp instanceof Date\n        ? new Date(timestamp)\n        : new Date(timestamp * 1000)\n  let a\n\n  switch (format) {\n    case 'B':\n      return (\n        Math.floor((_date.getUTCHours() * 36e2 + _date.getUTCMinutes() * 60 + _date.getUTCSeconds() + 36e2) / 86.4) %\n        1e3\n      )\n    case 'd':\n      return _date.getDate()\n    case 'h':\n      return _date.getHours() % 12 || 12\n    case 'H':\n      return _date.getHours()\n    case 'i':\n      return _date.getMinutes()\n    case 'I':\n      // capital 'i'\n      // Logic original by getimeofday().\n      // Compares Jan 1 minus Jan 1 UTC to Jul 1 minus Jul 1 UTC.\n      // If they are not equal, then DST is observed.\n      a = _date.getFullYear()\n      return 0 + (new Date(a, 0) - Date.UTC(a, 0) !== new Date(a, 6) - Date.UTC(a, 6))\n    case 'L':\n      a = _date.getFullYear()\n      return !(a & 3) && (a % 1e2 || !(a % 4e2)) ? 1 : 0\n    case 'm':\n      return _date.getMonth() + 1\n    case 's':\n      return _date.getSeconds()\n    case 't':\n      return new Date(_date.getFullYear(), _date.getMonth() + 1, 0).getDate()\n    case 'U':\n      return Math.round(_date.getTime() / 1000)\n    case 'w':\n      return _date.getDay()\n    case 'W':\n      a = new Date(_date.getFullYear(), _date.getMonth(), _date.getDate() - (_date.getDay() || 7) + 3)\n      return 1 + Math.round((a - new Date(a.getFullYear(), 0, 4)) / 864e5 / 7)\n    case 'y':\n      return parseInt((_date.getFullYear() + '').slice(2), 10) // This function returns an integer, unlike _date()\n    case 'Y':\n      return _date.getFullYear()\n    case 'z':\n      return Math.floor((_date - new Date(_date.getFullYear(), 0, 1)) / 864e5)\n    case 'Z':\n      return -_date.getTimezoneOffset() * 60\n    default:\n      throw new Error('Unrecognized _date format token')\n  }\n}\n"]}