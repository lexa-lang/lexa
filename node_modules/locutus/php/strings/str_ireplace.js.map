{"version":3,"sources":["../../../src/php/strings/str_ireplace.js"],"names":["module","exports","str_ireplace","search","replace","subject","countObj","i","j","temp","repl","sl","fl","f","r","s","ra","otemp","oi","ofjl","os","osa","Object","prototype","toString","call","length","toLowerCase","concat","value","undefined","split","join","indexOf","substr"],"mappings":"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","file":"str_ireplace.js","sourcesContent":["module.exports = function str_ireplace(search, replace, subject, countObj) {\n  //  discuss at: https://locutus.io/php/str_ireplace/\n  // original by: Glen Arason (https://CanadianDomainRegistry.ca)\n  // bugfixed by: Mahmoud Saeed\n  //      note 1: Case-insensitive version of str_replace()\n  //      note 1: Compliant with PHP 5.0 str_ireplace() Full details at:\n  //      note 1: https://ca3.php.net/manual/en/function.str-ireplace.php\n  //      note 2: The countObj parameter (optional) if used must be passed in as a\n  //      note 2: object. The count will then be written by reference into it's `value` property\n  //   example 1: str_ireplace('M', 'e', 'name')\n  //   returns 1: 'naee'\n  //   example 2: var $countObj = {}\n  //   example 2: str_ireplace('M', 'e', 'name', $countObj)\n  //   example 2: var $result = $countObj.value\n  //   returns 2: 1\n  //   example 3: str_ireplace('', '.', 'aaa')\n  //   returns 3: 'aaa'\n\n  let i = 0\n  let j = 0\n  let temp = ''\n  let repl = ''\n  let sl = 0\n  let fl = 0\n  let f = ''\n  let r = ''\n  let s = ''\n  let ra = ''\n  let otemp = ''\n  let oi = ''\n  let ofjl = ''\n  let os = subject\n  const osa = Object.prototype.toString.call(os) === '[object Array]'\n  // var sa = ''\n\n  if (typeof search === 'object') {\n    temp = search\n    search = []\n    for (i = 0; i < temp.length; i += 1) {\n      search[i] = temp[i].toLowerCase()\n    }\n  } else {\n    search = search.toLowerCase()\n  }\n\n  if (typeof subject === 'object') {\n    temp = subject\n    subject = []\n    for (i = 0; i < temp.length; i += 1) {\n      subject[i] = temp[i].toLowerCase()\n    }\n  } else {\n    subject = subject.toLowerCase()\n  }\n\n  if (typeof search === 'object' && typeof replace === 'string') {\n    temp = replace\n    replace = []\n    for (i = 0; i < search.length; i += 1) {\n      replace[i] = temp\n    }\n  }\n\n  temp = ''\n  f = [].concat(search)\n  r = [].concat(replace)\n  ra = Object.prototype.toString.call(r) === '[object Array]'\n  s = subject\n  // sa = Object.prototype.toString.call(s) === '[object Array]'\n  s = [].concat(s)\n  os = [].concat(os)\n\n  if (countObj) {\n    countObj.value = 0\n  }\n\n  for (i = 0, sl = s.length; i < sl; i++) {\n    if (s[i] === '') {\n      continue\n    }\n    for (j = 0, fl = f.length; j < fl; j++) {\n      if (f[j] === '') {\n        continue\n      }\n      temp = s[i] + ''\n      repl = ra ? (r[j] !== undefined ? r[j] : '') : r[0]\n      s[i] = temp.split(f[j]).join(repl)\n      otemp = os[i] + ''\n      oi = temp.indexOf(f[j])\n      ofjl = f[j].length\n      if (oi >= 0) {\n        os[i] = otemp.split(otemp.substr(oi, ofjl)).join(repl)\n      }\n\n      if (countObj) {\n        countObj.value += temp.split(f[j]).length - 1\n      }\n    }\n  }\n\n  return osa ? os : os[0]\n}\n"]}